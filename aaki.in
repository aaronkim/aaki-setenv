#!/bin/bash

if [ -z ECHO ]
  then
    ECHO='test'
fi


unset AAKI_TOP

#if [ -f aaki-setenv ]
#  then
#    . aaki-setenv
#fi

if [ -n ENV_TOP ]
  then
    AAKI_TOP=$ENV_TOP
    unset ENV_TOP
  else
    return
fi















_param_count=$#
_param_in=$0
_param_sub=$1

$ECHO "aaki_param_count: $#"
$ECHO "aaki_param_0: $0"
$ECHO "aaki_param_1: $1"
$ECHO ""

func_usage() {
  $ECHO "usage_param_count: $#"
  $ECHO "usage_param_0: $0"
  $ECHO "usage_param_1: $1"
  $ECHO ""

  if [ $# -lt 1 ]
    then
      $ECHO "Usage: $_param_in file ..."
      return
  fi

  $ECHO "param_sub: $_param_sub file ..."
  $ECHO ""
}

func_help() {
  $ECHO "help_param_count: $#"
  $ECHO "help_param_0: $0"
  $ECHO "help_param_1: $1"
  $ECHO ""

  $ECHO "param_sub: $_param_sub file ..."
  $ECHO ""
}

if [ $_param_count -lt 1 ]
then
  func_usage
fi

func_help "ff"

$ECHO "==================================="


if [ -f aaki ]; then
  $ECHO aaki
fi

answer=

if [ -z "$1" ]; then
    func_help
    $ECHO -n "Which would you like? [init] "
    read answer
else
    answer=$1
fi

selection=

OPTION_ITEMS="init config sync build help"

if [ -z "$answer" ]; then
    selection=init
else
    for c in ${OPTION_ITEMS[@]}
    do
        if [ "$answer" = "$c" ]
        then
            selection=$answer
        fi
    done
fi

if [ -z "$selection" ]; then
    $ECHO
    $ECHO "Invalid option: $answer"
else
    $ECHO
    $ECHO "Run : $selection"
fi



$ECHO
